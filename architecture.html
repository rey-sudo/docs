<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Architecture | Pairfy - Marketplace</title>
    <meta name="description" content="Buy and sell products on the Cardano blockchain">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.BaSMqofB.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CG_NDQ3o.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.Cc3zuxWh.js">
    <link rel="modulepreload" href="/assets/chunks/framework.B8KKhRA6.js">
    <link rel="modulepreload" href="/assets/architecture.md.CjT8hJFi.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-549475cf><!--[--><!--]--><!--[--><span tabindex="-1" data-v-8896fe01></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-8896fe01>Skip to content</a><!--]--><!----><header class="VPNav" data-v-549475cf data-v-6fda9b0a><div class="VPNavBar" data-v-6fda9b0a data-v-7ceaacae><div class="wrapper" data-v-7ceaacae><div class="container" data-v-7ceaacae><div class="title" data-v-7ceaacae><div class="VPNavBarTitle has-sidebar" data-v-7ceaacae data-v-1b687c93><a class="title" href="/" data-v-1b687c93><!--[--><!--]--><!----><span data-v-1b687c93>Pairfy - Marketplace</span><!--[--><!--]--></a></div></div><div class="content" data-v-7ceaacae><div class="content-body" data-v-7ceaacae><!--[--><!--]--><div class="VPNavBarSearch search" data-v-7ceaacae><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-7ceaacae data-v-2dfbc98b><span id="main-nav-aria-label" class="visually-hidden" data-v-2dfbc98b> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-2dfbc98b data-v-a3bcfe31><!--[--><span data-v-a3bcfe31>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/introduction.html" tabindex="0" data-v-2dfbc98b data-v-a3bcfe31><!--[--><span data-v-a3bcfe31>Introduction</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-7ceaacae data-v-8b7a4d6e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-8b7a4d6e data-v-a2c2f24e data-v-425915ca><span class="check" data-v-425915ca><span class="icon" data-v-425915ca><!--[--><span class="vpi-sun sun" data-v-a2c2f24e></span><span class="vpi-moon moon" data-v-a2c2f24e></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-7ceaacae data-v-a5520aa2 data-v-a254e204><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-a254e204 data-v-e099337c><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-7ceaacae data-v-0b415afa data-v-dee3a06a><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-dee3a06a><span class="vpi-more-horizontal icon" data-v-dee3a06a></span></button><div class="menu" data-v-dee3a06a><div class="VPMenu" data-v-dee3a06a data-v-f0c7b3de><!----><!--[--><!--[--><!----><div class="group" data-v-0b415afa><div class="item appearance" data-v-0b415afa><p class="label" data-v-0b415afa>Appearance</p><div class="appearance-action" data-v-0b415afa><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-0b415afa data-v-a2c2f24e data-v-425915ca><span class="check" data-v-425915ca><span class="icon" data-v-425915ca><!--[--><span class="vpi-sun sun" data-v-a2c2f24e></span><span class="vpi-moon moon" data-v-a2c2f24e></span><!--]--></span></span></button></div></div></div><div class="group" data-v-0b415afa><div class="item social-links" data-v-0b415afa><div class="VPSocialLinks social-links-list" data-v-0b415afa data-v-a254e204><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-a254e204 data-v-e099337c><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-7ceaacae data-v-c75a1a8b><span class="container" data-v-c75a1a8b><span class="top" data-v-c75a1a8b></span><span class="middle" data-v-c75a1a8b></span><span class="bottom" data-v-c75a1a8b></span></span></button></div></div></div></div><div class="divider" data-v-7ceaacae><div class="divider-line" data-v-7ceaacae></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-549475cf data-v-50250f72><div class="container" data-v-50250f72><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-50250f72><span class="vpi-align-left menu-icon" data-v-50250f72></span><span class="menu-text" data-v-50250f72>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-50250f72 data-v-f81cbfd8><button data-v-f81cbfd8>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-549475cf data-v-078e0182><div class="curtain" data-v-078e0182></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-078e0182><span class="visually-hidden" id="sidebar-aria-label" data-v-078e0182> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-ce0c5ef2><section class="VPSidebarItem level-0 has-active" data-v-ce0c5ef2 data-v-454511d7><div class="item" role="button" tabindex="0" data-v-454511d7><div class="indicator" data-v-454511d7></div><h2 class="text" data-v-454511d7>Examples</h2><!----></div><div class="items" data-v-454511d7><!--[--><div class="VPSidebarItem level-1 is-link" data-v-454511d7 data-v-454511d7><div class="item" data-v-454511d7><div class="indicator" data-v-454511d7></div><a class="VPLink link link" href="/introduction.html" data-v-454511d7><!--[--><p class="text" data-v-454511d7>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-454511d7 data-v-454511d7><div class="item" data-v-454511d7><div class="indicator" data-v-454511d7></div><a class="VPLink link link" href="/architecture.html" data-v-454511d7><!--[--><p class="text" data-v-454511d7>Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-454511d7 data-v-454511d7><div class="item" data-v-454511d7><div class="indicator" data-v-454511d7></div><a class="VPLink link link" href="/contributing.html" data-v-454511d7><!--[--><p class="text" data-v-454511d7>CONTRIBUTING</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-454511d7 data-v-454511d7><div class="item" data-v-454511d7><div class="indicator" data-v-454511d7></div><a class="VPLink link link" href="/api-examples.html" data-v-454511d7><!--[--><p class="text" data-v-454511d7>Runtime API Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-549475cf data-v-0a16e7a8><div class="VPDoc has-sidebar has-aside" data-v-0a16e7a8 data-v-4daf56e7><!--[--><!--]--><div class="container" data-v-4daf56e7><div class="aside" data-v-4daf56e7><div class="aside-curtain" data-v-4daf56e7></div><div class="aside-container" data-v-4daf56e7><div class="aside-content" data-v-4daf56e7><div class="VPDocAside" data-v-4daf56e7 data-v-edfed725><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-edfed725 data-v-86dfbce3><div class="content" data-v-86dfbce3><div class="outline-marker" data-v-86dfbce3></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-86dfbce3>On this page</div><ul class="VPDocOutlineItem root" data-v-86dfbce3 data-v-e2ed6805><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-edfed725></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-4daf56e7><div class="content-container" data-v-4daf56e7><!--[--><!--]--><main class="main" data-v-4daf56e7><div style="position:relative;" class="vp-doc _architecture" data-v-4daf56e7><div><h1 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">​</a></h1><p>Pairfy is designed to scale horizontally based on user demand. The web3 architecture is designed to be independent of web2. This means that the trading logic between buyer and seller is handled by individual smart contracts. Therefore, if Pairfy&#39;s web2 architecture goes down, the most important information is stored on the Cardano/Midnight blockchain.</p><p>Trading between buyer and seller works deterministically thanks to a state machine implemented with Plutus V3. The state machine ensures that one state exists at a time thanks to the threadtoken that is passed from state to state in the contract.</p><p><img src="/assets/states.drawio.CAVEm9Sw.png" alt="Catalyst"></p><h3 id="pending" tabindex="-1">Pending <a class="header-anchor" href="#pending" aria-label="Permalink to &quot;Pending&quot;">​</a></h3><p>The buyer creates the purchase order, which generates a CBOR Tx that is signed and sent from the buyer&#39;s browser to the Cardano/Midnight blockchain. The transaction contains the payment of the order price.</p><p>The seller is notified of the purchase order and must accept or ignore it based on payment confirmation after several confirmation blocks on the network. The seller has a 1 hour deadline to accept.</p><h3 id="returned" tabindex="-1">Returned <a class="header-anchor" href="#returned" aria-label="Permalink to &quot;Returned&quot;">​</a></h3><p>If the seller doesn&#39;t accept the purchase order or ignores it for any reason, the buyer can recover the payment.</p><h3 id="locking" tabindex="-1">Locking <a class="header-anchor" href="#locking" aria-label="Permalink to &quot;Locking&quot;">​</a></h3><p>The seller decides to accept the purchase order within 1 hour, and the contract blocks the funds. The seller must prepare the package for shipping within 24 hours.</p><h3 id="canceled" tabindex="-1">Canceled <a class="header-anchor" href="#canceled" aria-label="Permalink to &quot;Canceled&quot;">​</a></h3><p>The seller never ships the package, so the trade is terminated and the buyer can recover the funds.</p><h3 id="shipping" tabindex="-1">Shipping <a class="header-anchor" href="#shipping" aria-label="Permalink to &quot;Shipping&quot;">​</a></h3><p>The seller shipped the package within 24 hours. The buyer is notified of the package tracking.</p><h3 id="appealed" tabindex="-1">Appealed <a class="header-anchor" href="#appealed" aria-label="Permalink to &quot;Appealed&quot;">​</a></h3><p>The package never arrived. The product is not the exact one advertised by the seller. The quantity is incorrect. The product is corrupted. Etc. The appeal status is executed by the buyer and allows for the recovery of funds with the help of a mediator (DAO member). The appeal may be filed within 7 days after the stipulated delivery date.</p><h3 id="received" tabindex="-1">Received <a class="header-anchor" href="#received" aria-label="Permalink to &quot;Received&quot;">​</a></h3><p>The product is correct. The quantity is exact. The product is not corrupted. The buyer presses the received button. If they don&#39;t press it, the seller won&#39;t be able to collect the funds until the 7-day appeal window has passed.</p><h3 id="collected" tabindex="-1">Collected <a class="header-anchor" href="#collected" aria-label="Permalink to &quot;Collected&quot;">​</a></h3><p>The order was not appealed after the 7-day appeal window or the package was received without any problems. The seller executes the transaction that collects the funds.</p></div></div></main><footer class="VPDocFooter" data-v-4daf56e7 data-v-e6554710><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e6554710><span class="visually-hidden" id="doc-footer-aria-label" data-v-e6554710>Pager</span><div class="pager" data-v-e6554710><a class="VPLink link pager-link prev" href="/introduction.html" data-v-e6554710><!--[--><span class="desc" data-v-e6554710>Previous page</span><span class="title" data-v-e6554710>Introduction</span><!--]--></a></div><div class="pager" data-v-e6554710><a class="VPLink link pager-link next" href="/contributing.html" data-v-e6554710><!--[--><span class="desc" data-v-e6554710>Next page</span><span class="title" data-v-e6554710>CONTRIBUTING</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api-examples.md\":\"B__5zNjv\",\"architecture.md\":\"CjT8hJFi\",\"contributing.md\":\"Ck9sWG1x\",\"index.md\":\"D_H_8rxI\",\"introduction.md\":\"BCw0xgrR\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Pairfy - Marketplace\",\"description\":\"Buy and sell products on the Cardano blockchain\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Introduction\",\"link\":\"/introduction\"}],\"sidebar\":[{\"text\":\"Examples\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/introduction\"},{\"text\":\"Architecture\",\"link\":\"/architecture\"},{\"text\":\"CONTRIBUTING\",\"link\":\"/contributing\"},{\"text\":\"Runtime API Examples\",\"link\":\"/api-examples\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>